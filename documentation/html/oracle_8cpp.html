<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>exprob_assignment1: /root/ros_ws/src/exprob_assignment1/src/oracle.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">exprob_assignment1
   </div>
   <div id="projectbrief">Package for the Experimental Robotics Laboratory Course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">oracle.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>It sends random hints and checks if the hypothesis is the correct one.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;std_msgs/String.h&quot;</code><br />
<code>#include &quot;std_msgs/Bool.h&quot;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &quot;exprob_assignment1/Oracle.h&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
<code>#include &lt;ctime&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for oracle.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="oracle_8cpp__incl.png" border="0" usemap="#_2root_2ros__ws_2src_2exprob__assignment1_2src_2oracle_8cpp" alt=""/></div>
<map name="_2root_2ros__ws_2src_2exprob__assignment1_2src_2oracle_8cpp" id="_2root_2ros__ws_2src_2exprob__assignment1_2src_2oracle_8cpp">
<area shape="rect" title="It sends random hints and checks if the hypothesis is the correct one." alt="" coords="355,5,561,47"/>
<area shape="rect" title=" " alt="" coords="5,102,84,129"/>
<area shape="rect" title=" " alt="" coords="109,102,247,129"/>
<area shape="rect" title=" " alt="" coords="272,102,401,129"/>
<area shape="rect" title=" " alt="" coords="425,102,491,129"/>
<area shape="rect" title=" " alt="" coords="515,95,673,136"/>
<area shape="rect" title=" " alt="" coords="697,102,768,129"/>
<area shape="rect" title=" " alt="" coords="793,102,851,129"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10f83119b77a8fbd085a5550955f85ff"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oracle_8cpp.html#a10f83119b77a8fbd085a5550955f85ff">randMToN</a> (double M, double N)</td></tr>
<tr class="memdesc:a10f83119b77a8fbd085a5550955f85ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">: It generates a random number  <a href="oracle_8cpp.html#a10f83119b77a8fbd085a5550955f85ff">More...</a><br /></td></tr>
<tr class="separator:a10f83119b77a8fbd085a5550955f85ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0157d33f2ec6dabaf71e0d2233bab555"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oracle_8cpp.html#a0157d33f2ec6dabaf71e0d2233bab555">reachCallback</a> (const std_msgs::Bool x)</td></tr>
<tr class="memdesc:a0157d33f2ec6dabaf71e0d2233bab555"><td class="mdescLeft">&#160;</td><td class="mdescRight">: called everytime a new message is published on the topic reached  <a href="oracle_8cpp.html#a0157d33f2ec6dabaf71e0d2233bab555">More...</a><br /></td></tr>
<tr class="separator:a0157d33f2ec6dabaf71e0d2233bab555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b40339670ea4082bdfa7c53ef9f875e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oracle_8cpp.html#a4b40339670ea4082bdfa7c53ef9f875e">oracle</a> (exprob_assignment1::Oracle::Request &amp;req, exprob_assignment1::Oracle::Response &amp;res)</td></tr>
<tr class="memdesc:a4b40339670ea4082bdfa7c53ef9f875e"><td class="mdescLeft">&#160;</td><td class="mdescRight">: This is the server  <a href="oracle_8cpp.html#a4b40339670ea4082bdfa7c53ef9f875e">More...</a><br /></td></tr>
<tr class="separator:a4b40339670ea4082bdfa7c53ef9f875e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oracle_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">: main function  <a href="oracle_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9f89bfa74baa0f3fd108e3314016e4be"><td class="memItemLeft" align="right" valign="top"><a id="a9f89bfa74baa0f3fd108e3314016e4be"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><b>hint_pub</b></td></tr>
<tr class="separator:a9f89bfa74baa0f3fd108e3314016e4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791545929aa3a63a520d73f201ebcf61"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><b>hint</b> [31]</td></tr>
<tr class="separator:a791545929aa3a63a520d73f201ebcf61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>It sends random hints and checks if the hypothesis is the correct one. </p>
<p>@ package exprob_assignment1</p>
<dl class="section author"><dt>Author</dt><dd>Zoe Betta </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>26/10/2021</dd></dl>
<p>Subscribes to: <br  />
 reached</p>
<p>Publishes to: <br  />
 hint</p>
<p>Services: <br  />
 /oracle</p>
<p>Client Services: <br  />
 None</p>
<p>Action Services: <br  />
 None</p>
<p>Description: <br  />
 This node subscribes to the reached topic; once a new message is published the node randomply decided wheather to publish the hint or not. The node also implements a server that when called checks if the ID received is the same as the winner's ID, in that case it sends back true, if the ID is different it send back false. In this node is defined the list of possible hints and the winning ID. Be careful while adding or removing hints to change also the maximum random number to be generate to span the entire dimension of the hints array. It is signalled in the code where to change it. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: main function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>None</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>This is the main function, it initializes the subscribers, publishers and server. It also initializes the the seed for the random generation of numbers. </p>

</div>
</div>
<a id="a4b40339670ea4082bdfa7c53ef9f875e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b40339670ea4082bdfa7c53ef9f875e">&#9670;&nbsp;</a></span>oracle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool oracle </td>
          <td>(</td>
          <td class="paramtype">exprob_assignment1::Oracle::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">exprob_assignment1::Oracle::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: This is the server </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&amp;req</td><td>: it is the server request to be elaborated </td></tr>
    <tr><td class="paramname">&amp;</td><td>res : it is the responses to return to the client calling</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function receives a request from a client with a string, it then checks if the the request is the same as the winning ID, in that case it returns true to the caller, false otherwise. </p>

</div>
</div>
<a id="a10f83119b77a8fbd085a5550955f85ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f83119b77a8fbd085a5550955f85ff">&#9670;&nbsp;</a></span>randMToN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double randMToN </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: It generates a random number </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">M</td><td>the lower bound of the interval I want to have the random number in </td></tr>
    <tr><td class="paramname">N</td><td>the upper bound of the interval I want to have the random number in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the random number generated</dd></dl>
<p>This function uses the library function rand() to generate a random number and then resizes it to be in the interval [M;N]. </p>

</div>
</div>
<a id="a0157d33f2ec6dabaf71e0d2233bab555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0157d33f2ec6dabaf71e0d2233bab555">&#9670;&nbsp;</a></span>reachCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reachCallback </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Bool&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: called everytime a new message is published on the topic reached </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the content of the published message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>This function is called when new data is published. It then generates a random number between 1 and 10 and if that number is greater than 3 a random hint is published on the topic hint. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a791545929aa3a63a520d73f201ebcf61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a791545929aa3a63a520d73f201ebcf61">&#9670;&nbsp;</a></span>hint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* hint[31]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={<span class="stringliteral">&quot;ID1/who/Rev. Green&quot;</span>, <span class="stringliteral">&quot;ID1/what/Candlestick&quot;</span>,<span class="stringliteral">&quot;ID1/where/Conservatory&quot;</span>, </div>
<div class="line">    <span class="stringliteral">&quot;ID2/who/Prof. Plum&quot;</span>, <span class="stringliteral">&quot;ID2/what/Dagger&quot;</span>,<span class="stringliteral">&quot;ID2/where/Lounge&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ID3/who/Col. Mustard&quot;</span>, <span class="stringliteral">&quot;ID3/what/Lead Pipe&quot;</span>,<span class="stringliteral">&quot;ID3/where/Kitchen&quot;</span>, <span class="stringliteral">&quot;ID3/what/Rope&quot;</span>, </div>
<div class="line">    <span class="stringliteral">&quot;ID4/who/Mrs. Peacock&quot;</span>, <span class="stringliteral">&quot;ID4/what/Revolver&quot;</span>,<span class="stringliteral">&quot;ID4/where/Library&quot;</span>,    </div>
<div class="line">    <span class="stringliteral">&quot;ID5/who/Miss. Scarlet&quot;</span>, <span class="stringliteral">&quot;ID5/what/Rope&quot;</span>,   </div>
<div class="line">    <span class="stringliteral">&quot;ID6/who/Mrs. White&quot;</span>, <span class="stringliteral">&quot;ID6/what/Spanner&quot;</span>,<span class="stringliteral">&quot;ID6/where/Hall&quot;</span>, <span class="stringliteral">&quot;ID6/where/Study&quot;</span>,   </div>
<div class="line">    <span class="stringliteral">&quot;ID7/who/Prof. Plum&quot;</span>, <span class="stringliteral">&quot;ID7/what/Dagger&quot;</span>,<span class="stringliteral">&quot;ID7/where/Ballroom&quot;</span>,   </div>
<div class="line">    <span class="stringliteral">&quot;ID8/who/Col. Mustard&quot;</span>, <span class="stringliteral">&quot;ID8/what/Candlestick&quot;</span>,<span class="stringliteral">&quot;ID8/where/Dining Room&quot;</span>, <span class="stringliteral">&quot;ID8/who/Miss. Scarlet&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ID9/who/Mrs. White&quot;</span>, <span class="stringliteral">&quot;ID9/what/Lead Pipe&quot;</span>, </div>
<div class="line">    <span class="stringliteral">&quot;ID10/who/Rev. Green&quot;</span>, <span class="stringliteral">&quot;ID10/what/Revolver&quot;</span>,<span class="stringliteral">&quot;ID10/where/Conservatory&quot;</span>,      </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
