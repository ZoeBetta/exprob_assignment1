<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>exprob_assignment1: /root/ros_ws/src/exprob_assignment1/src/robot.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">exprob_assignment1
   </div>
   <div id="projectbrief">Package for the Experimental Robotics Laboratory Course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">robot.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implements the robot behaviour.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;exprob_assignment1/MoveTo.h&quot;</code><br />
<code>#include &quot;std_msgs/Bool.h&quot;</code><br />
<code>#include &quot;exprob_assignment1/Oracle.h&quot;</code><br />
<code>#include &quot;exprob_assignment1/Hypothesis.h&quot;</code><br />
<code>#include &quot;std_msgs/String.h&quot;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for robot.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="robot_8cpp__incl.png" border="0" usemap="#_2root_2ros__ws_2src_2exprob__assignment1_2src_2robot_8cpp" alt=""/></div>
<map name="_2root_2ros__ws_2src_2exprob__assignment1_2src_2robot_8cpp" id="_2root_2ros__ws_2src_2exprob__assignment1_2src_2robot_8cpp">
<area shape="rect" title="This file implements the robot behaviour." alt="" coords="605,5,807,47"/>
<area shape="rect" title=" " alt="" coords="5,102,84,129"/>
<area shape="rect" title=" " alt="" coords="108,95,267,136"/>
<area shape="rect" title=" " alt="" coords="291,102,420,129"/>
<area shape="rect" title=" " alt="" coords="444,95,603,136"/>
<area shape="rect" title=" " alt="" coords="627,95,785,136"/>
<area shape="rect" title=" " alt="" coords="810,102,949,129"/>
<area shape="rect" title=" " alt="" coords="973,102,1031,129"/>
<area shape="rect" title=" " alt="" coords="1055,102,1114,129"/>
<area shape="rect" title=" " alt="" coords="1138,102,1213,129"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10f83119b77a8fbd085a5550955f85ff"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot_8cpp.html#a10f83119b77a8fbd085a5550955f85ff">randMToN</a> (double M, double N)</td></tr>
<tr class="memdesc:a10f83119b77a8fbd085a5550955f85ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">: It generates a random number  <a href="robot_8cpp.html#a10f83119b77a8fbd085a5550955f85ff">More...</a><br /></td></tr>
<tr class="separator:a10f83119b77a8fbd085a5550955f85ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf13802ad63ff49747b737f70a2fc8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot_8cpp.html#acdf13802ad63ff49747b737f70a2fc8e">hypothesisCallback</a> (const exprob_assignment1::Hypothesis x)</td></tr>
<tr class="memdesc:acdf13802ad63ff49747b737f70a2fc8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">: When new data are available on the topic /hypothesis.  <a href="robot_8cpp.html#acdf13802ad63ff49747b737f70a2fc8e">More...</a><br /></td></tr>
<tr class="separator:acdf13802ad63ff49747b737f70a2fc8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="robot_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">: main function  <a href="robot_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a21d63a4c5b49bcc34a529b645a718c6f"><td class="memItemLeft" align="right" valign="top"><a id="a21d63a4c5b49bcc34a529b645a718c6f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>posx</b> [9] ={0,10,10,10,0,-10,-10, -10, -10 }</td></tr>
<tr class="separator:a21d63a4c5b49bcc34a529b645a718c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854b1b8ab832a99f4ff9813cc9f63816"><td class="memItemLeft" align="right" valign="top"><a id="a854b1b8ab832a99f4ff9813cc9f63816"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>posy</b> [9] ={10,10,0,-10,-10,-10,-5,5,10}</td></tr>
<tr class="separator:a854b1b8ab832a99f4ff9813cc9f63816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce9a50a5faeaf63775f6f641cb0ceb6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><b>loc</b> [9]</td></tr>
<tr class="separator:a6ce9a50a5faeaf63775f6f641cb0ceb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ce750cbbaff37c64f49bc623ddf404"><td class="memItemLeft" align="right" valign="top"><a id="af3ce750cbbaff37c64f49bc623ddf404"></a>
exprob_assignment1::Hypothesis&#160;</td><td class="memItemRight" valign="bottom"><b>message</b></td></tr>
<tr class="separator:af3ce750cbbaff37c64f49bc623ddf404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a9ce0770a8fc93e8dd9f2b8eb5468c"><td class="memItemLeft" align="right" valign="top"><a id="a35a9ce0770a8fc93e8dd9f2b8eb5468c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>behaviour</b> =0</td></tr>
<tr class="separator:a35a9ce0770a8fc93e8dd9f2b8eb5468c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements the robot behaviour. </p>
<p>@ package exprob_assignment1</p>
<dl class="section author"><dt>Author</dt><dd>Zoe Betta </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>26/10/2021</dd></dl>
<p>Subscribes to: <br  />
 /hypothesis</p>
<p>Publishes to: <br  />
 /reached</p>
<p>Services: <br  />
 None</p>
<p>Client Services: <br  />
 /move_to /oracle</p>
<p>Action Services: <br  />
 None</p>
<p>Description: <br  />
 This node has two behaviours, in order to switch from the first behaviour a new message should be received on the topic /hypothesis. If no hypothesis is being detected the robot decides a random room to reach and calls the service /move_to in order to reach the desired position. When the position has been reached the node publishes on the topic /reached. If a new hypothesis arrives on the topic the robot moves to the Home position (0;0) and calls the service /oracle to find out if the received hypothesis is the winning one. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="acdf13802ad63ff49747b737f70a2fc8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf13802ad63ff49747b737f70a2fc8e">&#9670;&nbsp;</a></span>hypothesisCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hypothesisCallback </td>
          <td>(</td>
          <td class="paramtype">const exprob_assignment1::Hypothesis&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: When new data are available on the topic /hypothesis. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>of type Hypothesis.msg</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>When new hypothesis are available the global variable behaviour switches to one and the data are saved on the global variable message. </p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: main function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td>None</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<p>This is the main function, it initializes the subscribers, publishers and server. It also initializes the the seed for the random generation of numbers. If the behaviour is the first one the robot goes to a random position and publishes on a topic whe nthe position has been reached. If the behaviour is the second one it goes to home and then calls the /oracle server to check if the hypothesis is correct. If it is correct the node exits, if instead it is wrong the behaviour goes back to the previous one to search for more hints. </p>

</div>
</div>
<a id="a10f83119b77a8fbd085a5550955f85ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f83119b77a8fbd085a5550955f85ff">&#9670;&nbsp;</a></span>randMToN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double randMToN </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: It generates a random number </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">M</td><td>the lower bound of the interval I want to have the random number in </td></tr>
    <tr><td class="paramname">N</td><td>the upper bound of the interval I want to have the random number in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the random number generated</dd></dl>
<p>This function uses the library function rand() to generate a random number and then resizes it to be in the interval [M;N]. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6ce9a50a5faeaf63775f6f641cb0ceb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce9a50a5faeaf63775f6f641cb0ceb6">&#9670;&nbsp;</a></span>loc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* loc[9]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">={ <span class="stringliteral">&quot;Hall&quot;</span>, <span class="stringliteral">&quot;Lounge&quot;</span> , <span class="stringliteral">&quot;Dining Room&quot;</span>, <span class="stringliteral">&quot;Kitchen&quot;</span>, <span class="stringliteral">&quot;Ballroom&quot;</span> , <span class="stringliteral">&quot;Conservatory&quot;</span>, </div>
<div class="line">                <span class="stringliteral">&quot;Biliard Room&quot;</span>, <span class="stringliteral">&quot;Library&quot;</span>, <span class="stringliteral">&quot;Study&quot;</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
